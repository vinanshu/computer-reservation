<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computer reservation</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        html,
        body {
            height: 100%;
            background:  #060e57;
        }

        ::selection {
            background: #060e57;
            color: #fff;
        }

        .wrapper {
            display: flex;
            height: 100%;
            justify-content: center;
            align-items: center;
        }

        .container {
            overflow: hidden;
            max-width: 390px;
            background: #fff;
            border-radius: 15px;
            box-shadow: 0px 15px 20px rgba(0, 0, 0, 0.1);
        }

        .title-text {
            display: flex;
        }

        .title {
            width: 50%;
            font-size: 20px;
            font-weight: 600;
            text-align: center;
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .slide-controls {
            display: flex;
            height: 50px;
            overflow: hidden;
            border: 1px solid lightgrey;
            border-radius: 15px;
            margin-top: 30px;
        }

        .slide-controls .slide {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            font-weight: 500;
            text-align: center;
            cursor: pointer;
            transition: all 0.6s ease;
        }

        .slide-controls .slider-tab {
            background: -webkit-linear-gradient(left, #003366, #004080, #0059b3, #0073e6);
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        input[type="radio"] {
            display: none;
        }

        #signup:checked~.slide-controls .slider-tab {
            transform: translateX(100%);
        }

        #login:checked~.slide-controls .slider-tab {
            transform: translateX(-100%);
        }

        .form-container {
            overflow-y: auto;
            max-height: 400px; /* Set maximum height */
        }

        .form-inner {
            display: flex;
        }

        form {
            width: 50%;
            padding: 20px;
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .field {
            margin-top: 20px;
        }

        input,
        select {
            height: 50px;
            width: 100%;
            outline: none;
            padding-left: 15px;
            border-radius: 15px;
            border: 1px solid lightgrey;
            font-size: 17px;
            transition: all 0.3s ease;
        }

        input:focus,
        select:focus {
            border-color: #1a75ff;
        }

        input::placeholder,
        select::placeholder {
            color: #999;
            transition: all 0.3s ease;
        }

        input:focus::placeholder,
        select:focus::placeholder {
            color: #1a75ff;
        }

        .btn {
            height: 50px;
            width: 100%;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            margin-top: 20px;
        }

        .btn-layer {
            height: 100%;
            width: 300%;
            position: absolute;
            left: -100%;
            background: -webkit-linear-gradient(right, #003366, #004080, #0059b3, #0073e6);
            border-radius: 15px;
            transition: all 0.4s ease;
        }

        .btn:hover .btn-layer {
            left: 0;
        }

        input[type="submit"] {
            height: 100%;
            width: 100%;
            z-index: 1;
            position: relative;
            background: none;
            border: none;
            color: #fff;
            padding-left: 0;
            border-radius: 15px;
            font-size: 20px;
            font-weight: 500;
            cursor: pointer;
        }
        
        .logo img{
            width: 200px;
            height: 100px;
            position: absolute;
            left: 750px;
            top: 16px;
            border-radius: 20px;
        }

    </style>
</head>

<body>
    <div class="wrapper">
        <div class="logo">
            <img src="logo1.png" alt="">
        </div>
        <div class="container">
            <div class="title-text">
                <div class="title login">Login Form</div>
                <div class="title signup">Signup Form</div>
            </div>
            <div class="form-container">
                <div class="form-inner">
                    <form id="loginForm" action="#" class="login">
                        <div class="field">
                            <input type="text" id="loginIDNumber" placeholder="ID Number" required>
                        </div>
                        <div class="field btn">
                            <div class="btn-layer"></div>
                            <input type="submit" value="Login">
                        </div>
                    </form>
                    <form id="registerForm" action="#" class="signup">
                        <div class="field">
                            <input type="text" id="idNumber" placeholder="ID Number" required>
                        </div>
                        <div class="field">
                            <input type="text" id="firstName" placeholder="First Name" required>
                        </div>
                        <div class="field">
                            <input type="text" id="lastName" placeholder="Last Name" required>
                        </div>
                        <div class="field">
                            <label for="course">Course:</label>
                            <select id="course" name="course">
                                <option value="Select">Select</option>
                                <option value="EMT">EMT</option>
                                <option value="TCM">TCM</option>
                                <option value="IT">IT</option>
                            </select>
                        </div>
                        <div class="field">
                            <label for="year">Year:</label>
                            <select id="year" name="year">
                                <option value="Select">Select</option>
                                <option value="1st year">1st year</option>
                                <option value="2nd year">2nd year</option>
                                <option value="3rd year">3rd year</option>
                                <option value="4th year">4th year</option>
                            </select>
                        </div>
                        <div class="field">
                            <label for="section">Section:</label>
                            <input type="text" id="section" name="section" required><br>
                        </div>
                        <div class="field">
                            <label for="phoneNumber">Phone Number:</label>
                            <input type="text" id="phoneNumber" name="phoneNumber" required>
                        </div>
                        <div class="field btn">
                            <div class="btn-layer"></div>
                            <input type="submit" value="Signup">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script>
                // Function to validate the ID number length
                function validateIDNumber(idNumber) {
            return idNumber.length === 10;
        }

        // Event listener for registration form submission
        document.getElementById("registerForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent default form submission behavior

            // Get the entered ID number
            var idNumber = document.getElementById("idNumber").value;

            // Validate the ID number length
            if (!validateIDNumber(idNumber)) {
                // ID number is invalid
                alert("Please enter a valid 10-character ID number.");
                return; // Exit the function early
            }

            // Get other registration form data
            var firstName = document.getElementById("firstName").value;
            var lastName = document.getElementById("lastName").value;
            var course = document.getElementById("course").value;
            var year = document.getElementById("year").value;
            var section = document.getElementById("section").value;
            var phoneNumber = document.getElementById("phoneNumber").value;

            // Construct an object to hold the account information
            var account = {
                idNumber: idNumber,
                firstName: firstName,
                lastName: lastName,
                course: course,
                year: year,
                section: section,
                phoneNumber: phoneNumber
            };

            // Retrieve existing accounts from localStorage
            var existingAccounts = JSON.parse(localStorage.getItem("registeredAccounts")) || [];

            // Add the new account to the array
            existingAccounts.push(account);

            // Save the updated array back to localStorage
            localStorage.setItem("registeredAccounts", JSON.stringify(existingAccounts));

            // Display alert indicating successful registration
            alert("Registration successful!");

            // Reset the form to clear all input fields
            document.getElementById("registerForm").reset();
        });

        // Event listener for login form submission
        document.getElementById("loginForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent default form submission behavior

            // Get the entered ID number for login
            var loginIDNumber = document.getElementById("loginIDNumber").value;

            // Retrieve saved account information from localStorage
            var savedAccountsJSON = localStorage.getItem("registeredAccounts");

            // Check if there are saved accounts
            if (savedAccountsJSON) {
                // Parse the saved account information
                var savedAccounts = JSON.parse(savedAccountsJSON);

                // Check if the entered ID number matches any saved ID number
                var matchedAccount = savedAccounts.find(function(account) {
                    return account.idNumber === loginIDNumber;
                });

                if (matchedAccount) {
                    // If the ID number matches, login is successful
                    alert("Login successful!");
                    // Redirect to homepage.html after 2 seconds
                    setTimeout(function() {
                        window.location.href = "homepage.html";
                    }, 2000); // 2 seconds delay
                } else {
                    // ID number doesn't match any saved account
                    alert("Invalid ID number. Please try again.");
                }
            } else {
                // No accounts registered yet
                alert("No accounts registered. Please register first.");
            }
        });

        const loginText = document.querySelector(".title-text .login");
        const loginForm = document.querySelector("form.login");
        const loginBtn = document.querySelector("label.login");
        const signupBtn = document.querySelector("label.signup");
        const signupLink = document.querySelector("form .signup-link a");
        signupBtn.onclick = (() => {
            loginForm.style.marginLeft = "-50%";
            loginText.style.marginLeft = "-50%";
        });
        loginBtn.onclick = (() => {
            loginForm.style.marginLeft = "0%";
            loginText.style.marginLeft = "0%";
        });
        signupLink.onclick = (() => {
            signupBtn.click();
            return false;
        });

    </script>
</body>

</html>
